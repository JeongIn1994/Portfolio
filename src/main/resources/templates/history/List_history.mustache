{{>layout/aside}}
<main>
    <h2>Work_History</h2>
    <button type="button" class="btn btn-primary" id="btn-create" style="display: none;" onclick="onclickAddbtn()">Add History</button><br>
    <table class="table table-horizontal table-boadered" style="text-align: center">

        <tbody id="tbody">
        {{#posts}}
        <tr>
            <td colspan="2"><b>Project Name</b></td>
            <td>{{title}}</td>
        </tr>
        <tr>
            <td><b>Dev Date</b></td>
            <td colspan="2" class="date">{{start_date}} ~ {{end_date}}</td>
        </tr>
        <tr>
            <td colspan="3"><img alt="#" src="/display?fileName={{summary}}" ></td>
        </tr>
        <tr>
            <td colspan="3"><a type="button" class="btn btn-primary" href="/history/view/{{id}}">Show Detail</a><br></td>
        </tr>
        <tr>
            <td colspan="3" style="text-align: center"> <h2>↓</h2></td>
        </tr>
        {{/posts}}
        </tbody>
    </table>
    <div style="text-align: center">
        <h3>End Of History</h3><br>
        <a href="#tbody" style="text-align: center">On the Top</a>
    </div>
    <hr>

</main>
{{>layout/right}}
<script>

    document.title = "⚙️In's Inventory-HistoryList";


    if( userRole === "ADMIN" ) {
        document.getElementById('btn-create').style.display = 'block';
    }

    const onclickAddbtn = () => {
        document.location.href= "/history/regist";
    }

    const formattedDate = (date) => {
        const originDate = new Date(date);

        const year = originDate.getFullYear();
        let month = originDate.getMonth() + 1;
        let day = originDate.getDate();

        month = month < 10 ? '0' + month : month;
        day = day < 10 ? '0' + day : day;

        return `${year}-${month}-${day}`

    }

</script>
</body>
</html>